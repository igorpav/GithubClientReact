(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{135:function(e,a,t){e.exports=t(170)},140:function(e,a,t){},141:function(e,a,t){},170:function(e,a,t){"use strict";t.r(a);var n=t(128),r=t(0),l=t.n(r),i=t(13),c=t.n(i),o=(t(140),t(12)),m=(t(141),t(206)),u=t(62),s=t(207),d=t(110),p=t.n(d),v=t(112),E=t.n(v),f=function(e){var a=e.logout;return l.a.createElement(p.a,{position:"static"},l.a.createElement(m.a,{className:"header"},l.a.createElement(u.a,{variant:"h6"},"Github Client"),l.a.createElement("div",null),l.a.createElement(s.a,{color:"inherit",onClick:a},l.a.createElement(E.a,null))))},g=t(23),b=t(87),h=function(e){var a=e.children,t=e.token,n=Object(b.a)(e,["children","token"]);return l.a.createElement(g.b,Object.assign({},n,{render:function(e){var n=e.location;return t?a:l.a.createElement(g.a,{to:{pathname:"/login",state:{from:n}}})}}))},w=t(209),y=t(227),j=t(208),O=t(114),x=t(25),N=t(26),S=t.n(N);function k(){var e=Object(x.a)(["\n    {\n        viewer {\n            id\n        }\n    }\n"]);return k=function(){return e},e}var I=S()(k()),C=t(22),q=Object(O.a)((function(e){return{root:{width:"100%",maxwidth:"1200px",margin:"0 auto",display:"flex",justifyContent:"center"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",width:"700px",justifyContent:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function $(e){var a=e.login,t=q(),n=Object(r.useState)(""),i=Object(o.a)(n,2),c=i[0],m=i[1],d=Object(r.useState)(!1),p=Object(o.a)(d,2),v=p[0],E=p[1],f=Object(C.a)(I,{onCompleted:function(){E(!1),a(c),window.location.reload()},onError:function(){E(!0),localStorage.removeItem("auth-token")}}),g=Object(o.a)(f,1)[0];return l.a.createElement(j.a,{container:!0,component:"main",maxWidth:"xs",className:t.root},l.a.createElement(w.a,null),l.a.createElement("div",{className:t.paper,content:"center"},l.a.createElement(u.a,{component:"h1",variant:"h5"},"Sign in"),l.a.createElement(y.a,{onChange:function(e){return m(e.target.value)},value:c,error:v,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"token",label:"Token from github",type:"password",id:"password",autoComplete:"current-password"}),l.a.createElement(s.a,{fullWidth:!0,variant:"contained",color:"black",className:t.submit,onClick:function(){localStorage.setItem("auth-token",c),g()}},"Sign In")))}var W=t(228),D=t(225),B=t(226),U=t(229);function F(){var e=Object(x.a)(["\n    {\n        viewer {\n            name,\n            isViewer,\n            login,\n            avatarUrl,\n            url,\n            bio,\n            email,\n            company,\n            repositories (first: 5) {\n                edges {\n                    node {\n                        id,\n                        name,\n                        isPrivate,\n                        description,\n                        pushedAt,\n                        createdAt,\n                        url\n                    }\n                }\n            }\n        }\n    }\n"]);return F=function(){return e},e}var L=S()(F()),R=t(82),T=t(214),A=t(211),z=t(212),G=t(230),V=t(210),Q=t(215),_=t(216),M=t(217),H=t(218),J=Object(O.a)((function(e){return{root:{flexGrow:1,marginTop:25},content:{width:"100%"},title:{margin:e.spacing(1,0,2),fontSize:25},elementList:{margin:"10px 0",width:"100%"}}}));function P(){var e=J(),a=l.a.useState(!1),t=Object(o.a)(a,2),n=t[0],r=t[1];return l.a.createElement("div",{className:e.root},l.a.createElement(j.a,{container:!0,spacing:2},l.a.createElement(j.a,{item:!0,xs:12,md:12},l.a.createElement(u.a,{variant:"h4",className:e.title},"Repositories"),l.a.createElement(A.a,{row:!0},l.a.createElement(z.a,{control:l.a.createElement(G.a,{checked:n,onChange:function(e){return r(e.target.checked)},value:"secondary",color:"primary"}),label:"Add description"})),l.a.createElement(V.a,null,l.a.createElement(R.a,{query:L},(function(a){var t=a.data;return a.loading||!t?l.a.createElement(T.a,null):l.a.createElement(l.a.Fragment,null,t.viewer.repositories.edges.map((function(a){return l.a.createElement(Q.a,{className:e.elementList,key:a.node.id},l.a.createElement(_.a,null,l.a.createElement(M.a,{href:a.node.url,primary:l.a.createElement(H.a,{href:a.node.url},a.node.name),secondary:n?a.node.description:null})))})))}))))))}var Y=t(83),K=t.n(Y),X=t(84),Z=t.n(X),ee=Object(O.a)((function(e){return{avatar:{borderRadius:"3%",width:200},title:{fontSize:20},description:{fontSize:15,fontWeight:700}}}));function ae(e){var a=e.data,t=e.entity,n=ee(),i=a[t],c=Object(r.useState)(!1),m=Object(o.a)(c,2),d=m[0],p=m[1];return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("img",{src:i.avatarUrl,alt:"Avatar",className:n.avatar})),l.a.createElement("div",{className:n.name},l.a.createElement("h3",{className:n.title},i.name),l.a.createElement("a",{href:i.url},l.a.createElement("h4",null,i.login))),d&&l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,{variant:"body2",component:"p",className:n.description},i.bio),l.a.createElement(u.a,{variant:"body2",component:"p",className:n.description},i.description),l.a.createElement(u.a,{variant:"subtitle2",component:"h4",className:n.description},i.company),l.a.createElement(u.a,{variant:"caption",color:"textSecondary",component:"h6",className:n.description},i.email)),l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(s.a,{className:n.moreButton,variant:"contained",color:"primary",onClick:function(){return p(!d)}},d?l.a.createElement(K.a,null):l.a.createElement(Z.a,null))),i.isViewer&&l.a.createElement(P,null)))}var te=function(){return l.a.createElement(R.a,{query:L},(function(e){var a=e.data;return e.loading||!a?l.a.createElement(T.a,null):l.a.createElement(ae,{data:a,entity:"viewer"})}))},ne=Object(O.a)((function(e){return{panel:{display:"flex",flexDirection:"column",flexWrap:"wrap",marginTop:30},userInfo:{marginRight:"50px"}}})),re=function(){var e=ne();return l.a.createElement("div",{className:e.panel},l.a.createElement(te,{className:e.userInfo}))},le=t(221),ie=t(222),ce=t(219),oe=t(220),me=t(213),ue=Object(O.a)((function(e){return{card:{display:"flex",margin:16,boxSizing:"border-box"},name:{margin:30},details:{display:"flex",flexDirection:"column",width:200},media:{height:240},content:{flex:"1 0 auto"},cover:{width:151},controls:{display:"flex",alignItems:"center",paddingLeft:e.spacing(1),paddingBottom:e.spacing(1)},playIcon:{height:38,width:3}}}));function se(e){var a=e.repo,t=e.addStar,n=e.removeStar,r=ue();return l.a.createElement(Q.a,{className:r.card},l.a.createElement("div",{className:r.details},l.a.createElement(ce.a,{className:r.media,image:a.owner.avatarUrl}),l.a.createElement(oe.a,{className:r.content},l.a.createElement(u.a,{className:r.name,component:"h5",variant:"h5"},l.a.createElement(H.a,{href:a.url,target:"_blank"}," ",a.name," ")),l.a.createElement(u.a,{variant:"subtitle1",color:"textSecondary"},"Login:",l.a.createElement(H.a,{href:a.owner.url,target:"_blank"}," ",a.owner.login," ")),l.a.createElement(u.a,{variant:"subtitle2",color:"textSecondary"},"Description: ",a.description)),l.a.createElement("div",{className:r.controls},a.viewerHasStarred?l.a.createElement(me.a,{"aria-label":"previous",onClick:function(){return n({variables:{id:a.id}})}},l.a.createElement(ie.a,null)):l.a.createElement(me.a,{"aria-label":"previous",onClick:function(){return t({variables:{id:a.id}})}},l.a.createElement(le.a,null)))))}function de(){var e=Object(x.a)(["\n    query repos($title: String!) {\n        search(query: $title, type: REPOSITORY, first: 8) {\n            nodes {\n                ... on Repository {\n                    id,\n                    name,\n                    url,\n                    viewerHasStarred,\n                    description,\n                    \n                    owner {\n                        login\n                        url\n                        avatarUrl\n                    }\n                }\n            }\n        }\n    }\n"]);return de=function(){return e},e}var pe=S()(de());function ve(){var e=Object(x.a)(["\nmutation addStar($id: ID!){\n    removeStar(input: {starrableId : $id}) {\n        starrable {\n            id\n        }\n    }\n}\n"]);return ve=function(){return e},e}function Ee(){var e=Object(x.a)(["\n    mutation addStar($id: ID!){\n        addStar(input: {starrableId : $id}) {\n            starrable {\n                id\n            }\n        }\n    }\n"]);return Ee=function(){return e},e}var fe=S()(Ee()),ge=S()(ve()),be=t(86),he=t.n(be),we=Object(O.a)((function(e){return{root:{flexGrow:1},cards:{maxWidth:"fit-content",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-around"},content:{width:"100%"},title:{margin:e.spacing(1,0,2)},elementList:{margin:"10px 0",width:"100%"},searchButton:{margin:8}}})),ye=function(){var e=we(),a=Object(r.useState)(""),t=Object(o.a)(a,2),n=t[0],i=t[1],c=Object(C.a)(pe),m=Object(o.a)(c,2),u=m[0],d=m[1],p=d.loading,v=d.error,E=d.data,f=Object(C.b)(fe,{refetchQueries:[{query:pe,variables:{title:n}}]}),g=Object(o.a)(f,1)[0],b=Object(C.b)(ge,{refetchQueries:[{query:pe,variables:{title:n}}]}),h=Object(o.a)(b,1)[0];return l.a.createElement("div",{className:e.root},l.a.createElement(y.a,{label:"Repository name",value:n,onChange:function(e){return i(e.target.value)}}),l.a.createElement(s.a,{variant:"contained",color:"primary",className:e.searchButton,onClick:function(){return u({variables:{title:n}})}},l.a.createElement(he.a,null)),v&&l.a.createElement("h5",null,"Not found"),p&&l.a.createElement(T.a,null),E&&l.a.createElement("div",{className:e.cards},E.search.nodes.map((function(e){return l.a.createElement(se,{repo:e,key:e.id,addStar:g,removeStar:h})}))))},je=t(223),Oe=t(224),xe=t(122),Ne=t.n(xe),Se=t(121),ke=t.n(Se);function Ie(){var e=Object(x.a)(["\n    mutation unfollowUser($userId: ID!) {\n        unfollowUser(input: {userId: $userId}) {\n            clientMutationId,\n            user {\n                viewerIsFollowing\n            }\n        }\n    }\n"]);return Ie=function(){return e},e}function Ce(){var e=Object(x.a)(["\n    mutation ($userId: ID!) {\n        followUser(input: {userId: $userId}) {\n            clientMutationId,\n            user {\n                viewerIsFollowing\n            }\n        }\n    }\n"]);return Ce=function(){return e},e}var qe=S()(Ce()),$e=S()(Ie());function We(){var e=Object(x.a)(["\n    query user($login: String!)\n    {\n        user(login: $login) {\n            id,\n            name,\n            login,\n            avatarUrl,\n            url,\n            bio,\n            company,\n            email,\n            isViewer,\n            viewerIsFollowing\n        }\n    }\n\n"]);return We=function(){return e},e}var De=S()(We()),Be=Object(O.a)({card:{marginTop:100,maxWidth:345},media:{height:240},followCard:{marginLeft:150},moreCard:{marginLeft:20},login:{marginTop:10},repos:{}});function Ue(e){var a=e.data,t=e.entity,n=Be(),i=a[t],c=Object(r.useState)(!1),m=Object(o.a)(c,2),d=m[0],p=m[1],v=Object(C.b)(qe,{refetchQueries:[{query:De,variables:{login:i.login}}]}),E=Object(o.a)(v,1)[0],f=Object(C.b)($e,{refetchQueries:[{query:De,variables:{login:i.login}}]}),g=Object(o.a)(f,1)[0];return l.a.createElement(Q.a,{className:n.card},l.a.createElement(je.a,null,l.a.createElement(ce.a,{className:n.media,image:i.avatarUrl,title:"Avatar"}),l.a.createElement(oe.a,null,l.a.createElement(u.a,{gutterBottom:!0,variant:"h5",component:"h2"},l.a.createElement("h3",null,i.name),l.a.createElement(u.a,{className:n.login},l.a.createElement("a",{href:i.url,type:"_blank"},l.a.createElement("h4",null,i.login)))),d&&l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,{variant:"body2",component:"p"},i.bio),l.a.createElement(u.a,{variant:"body2",component:"p"},i.description),l.a.createElement(u.a,{variant:"subtitle2",component:"h4"},i.company),l.a.createElement(u.a,{variant:"overline",component:"h5"},i.location),l.a.createElement(u.a,{variant:"caption",color:"textSecondary",component:"h6"},i.email)))),l.a.createElement(Oe.a,null,l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(s.a,{variant:"contained",color:"primary",className:n.moreCard,onClick:function(){return p(!d)}},d?l.a.createElement(K.a,null):l.a.createElement(Z.a,null)),!i.isViewer&&l.a.createElement(s.a,{variant:"contained",color:"primary",className:n.followCard,onClick:function(){return i.viewerIsFollowing?g({variables:{userId:i.id}}):E({variables:{userId:i.id}})}},i.viewerIsFollowing?l.a.createElement(ke.a,null):l.a.createElement(Ne.a,null))),l.a.createElement("div",{className:n.repos},i.isViewer&&l.a.createElement(P,null)))))}var Fe=Object(O.a)((function(e){return{root:{flexGrow:1,display:"flex"},page:{display:"flex",flexDirection:"column"},content:{width:"100%"},title:{margin:e.spacing(1,0,2)},elementList:{margin:"10px 0",width:"100%"},searchButton:{margin:8}}}));function Le(e){var a=e.query,t=(e.title,e.entityName),n=e.initialInput,i=Fe(),c=Object(C.a)(a),m=Object(o.a)(c,2),u=m[0],d=m[1],p=d.loading,v=d.error,E=d.data,f=Object(r.useState)(n),g=Object(o.a)(f,2),b=g[0],h=g[1];return l.a.createElement("div",{className:i.root},l.a.createElement(j.a,{container:!0,spacing:2},l.a.createElement(j.a,{item:!0,xs:12,md:12,className:i.page},l.a.createElement("div",{className:i.search},l.a.createElement(y.a,{id:"outlined-basic",label:"User login",value:b,onChange:function(e){return h(e.target.value)}}),l.a.createElement(s.a,{variant:"contained",color:"primary",className:i.searchButton,onClick:function(){return u({variables:{login:b}})}},l.a.createElement(he.a,null))),v&&l.a.createElement("h5",null,"Not found"),p&&l.a.createElement(T.a,null),E&&l.a.createElement(Ue,{data:E,entity:t}))))}function Re(e){var a=e.children,t=e.value,n=e.index,r=Object(b.a)(e,["children","value","index"]);return l.a.createElement(u.a,Object.assign({className:"repos",component:"div",role:"tabpanel",hidden:t!==n,id:"nav-tabpanel-".concat(n),"aria-labelledby":"nav-tab-".concat(n)},r),t===n&&l.a.createElement(W.a,{p:3},a))}function Te(e){return{id:"nav-tab-".concat(e),"aria-controls":"nav-tabpanel-".concat(e)}}function Ae(e){return l.a.createElement(D.a,Object.assign({component:"a",onClick:function(e){e.preventDefault()}},e))}var ze=Object(O.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));function Ge(){var e=ze(),a=l.a.useState(0),t=Object(o.a)(a,2),n=t[0],r=t[1];return l.a.createElement("div",{className:e.root},l.a.createElement(B.a,{position:"static",color:"default"},l.a.createElement(U.a,{variant:"fullWidth",value:n,onChange:function(e,a){r(a)},"aria-label":"nav tabs example"},l.a.createElement(Ae,Object.assign({label:"My profile",href:"/my_profile"},Te(0))),l.a.createElement(Ae,Object.assign({label:"Repository search",href:"/repositories"},Te(1))),l.a.createElement(Ae,Object.assign({label:"Find user",href:"/users"},Te(2))))),l.a.createElement(Re,{value:n,index:0},l.a.createElement(re,null)),l.a.createElement(Re,{value:n,index:1},l.a.createElement(ye,null)),l.a.createElement(Re,{value:n,index:2},l.a.createElement(Le,{query:De,title:"Search users",entityName:"user",initialInput:""})))}var Ve=Object(O.a)((function(e){return{mainSection:{display:"flex",justifyContent:"center",padding:"10px 0"},content:{minWidth:"90vw",height:700},test:{cursor:"pointer"}}})),Qe=function(){var e=Ve();return l.a.createElement("div",{className:e.mainSection},l.a.createElement("div",{className:e.content},l.a.createElement(Ge,null)))},_e=function(){var e=Object(r.useState)(localStorage.getItem("auth-token")),a=Object(o.a)(e,2),t=a[0],n=a[1];return l.a.createElement("div",null,l.a.createElement(g.a,{from:"/",to:""}),l.a.createElement(g.d,null,l.a.createElement(g.b,{path:"/login"},l.a.createElement($,{login:function(e){localStorage.setItem("auth-token",e),n(localStorage.getItem("auth-token"))}})),l.a.createElement(h,{path:"",token:t},l.a.createElement(f,{token:t,logout:function(){localStorage.removeItem("auth-token"),n(localStorage.getItem("auth-token"))}}),l.a.createElement(Qe,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Me=t(123),He=t(47),Je=t(127),Pe=t(126),Ye=t(124),Ke=t(15),Xe=t(125),Ze=t(205),ea=t(75),aa=t.n(ea),ta=Object(Xe.a)({palette:{primary:aa.a,secondary:aa.a.A900}}),na=Object(Je.a)({uri:"https://api.github.com/graphql"}),ra=Object(Me.a)((function(e,a){var t=a.headers,r=localStorage.getItem("auth-token");return{headers:Object(n.a)({},t,{authorization:r?"Bearer ".concat(r):""})}})),la=new He.a({link:ra.concat(na),cache:new Pe.a});c.a.render(l.a.createElement(Ye.a,null,l.a.createElement(Ke.a,{client:la},l.a.createElement(Ze.a,{theme:ta},l.a.createElement(_e,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[135,1,2]]]);
//# sourceMappingURL=main.dabb1a79.chunk.js.map